name: Upload Artifact

on: push

jobs:
    build:
        runs-on: ubuntu-latest

        steps:
            - name: Checkout..
              uses: actions/checkout@v4.1.1

            - name: ls
              run : ls -lah
              
            - name: Build artifact
              uses: actions/upload-artifact@v4
              with:
                name: my-artifact
                path: ./

            - name: Download artifact
              uses: actions/download-artifact@v4
              with:
                name: my-artifact
              
            - name: Ls after downloading artifact
              run : ls -lah    


            - name: Send to Nexus
              run : curl --fail -u admin:nexusPass --upload-file my-artifact  'https://2984-46-162-197-47.ngrok-free.app/repository/repo-for-git/'


